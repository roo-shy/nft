"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _objectWithoutPropertiesLoose=require("@babel/runtime/helpers/objectWithoutPropertiesLoose"),_inheritsLoose=require("@babel/runtime/helpers/inheritsLoose"),svgInjector=require("@tanem/svg-injector"),React=require("react");function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var _objectWithoutPropertiesLoose__default=_interopDefaultLegacy(_objectWithoutPropertiesLoose),_inheritsLoose__default=_interopDefaultLegacy(_inheritsLoose),shallowDiffers=function(e,t){for(var n in e)if(!(n in t))return!0;for(var r in t)if(e[r]!==t[r])return!0;return!1},svgNamespace="http://www.w3.org/2000/svg",xlinkNamespace="http://www.w3.org/1999/xlink",ReactSVG=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).initialState={hasError:!1,isLoading:!0},t.state=t.initialState,t._isMounted=!1,t.refCallback=function(e){t.container=e},t}_inheritsLoose__default.default(t,e);var n=t.prototype;return n.renderSVG=function(){var e=this;if(this.container instanceof Node){var t,n=this.props,r=n.beforeInjection,i=n.evalScripts,o=n.renumerateIRIElements,a=n.src,s=n.useRequestCache,c=this.props.afterInjection,l=this.props.wrapper;"svg"===l?((t=document.createElementNS(svgNamespace,l)).setAttribute("xmlns",svgNamespace),t.setAttribute("xmlns:xlink",xlinkNamespace)):t=document.createElement(l),t.dataset.src=a,this.nonReactElement=this.container.appendChild(t);svgInjector.SVGInjector(t,{afterEach:function(t,n){!t||(e.removeSVG(),e._isMounted)?(e.nonReactElement=n,e._isMounted&&e.setState((function(){return{hasError:!!t,isLoading:!1}}),(function(){c(t,n)}))):c(t)},beforeEach:r,cacheRequests:s,evalScripts:i,renumerateIRIElements:o})}},n.removeSVG=function(){this.container instanceof Node&&this.nonReactElement instanceof Node&&(this.container.removeChild(this.nonReactElement),this.nonReactElement=null)},n.componentDidMount=function(){this._isMounted=!0,this.renderSVG()},n.componentDidUpdate=function(e){var t=this;shallowDiffers(e,this.props)&&this.setState((function(){return t.initialState}),(function(){t.removeSVG(),t.renderSVG()}))},n.componentWillUnmount=function(){this._isMounted=!1,this.removeSVG()},n.render=function(){var e=this.props,t=e.fallback,n=e.loading,r=e.wrapper,i=_objectWithoutPropertiesLoose__default.default(e,["afterInjection","beforeInjection","evalScripts","fallback","loading","renumerateIRIElements","src","useRequestCache","wrapper"]);return React.createElement(r,Object.assign({},i,{ref:this.refCallback},"svg"===r?{xmlns:svgNamespace,xmlnsXlink:xlinkNamespace}:{}),this.state.isLoading&&n&&React.createElement(n,null),this.state.hasError&&t&&React.createElement(t,null))},t}(React.Component);ReactSVG.defaultProps={afterInjection:function(){},beforeInjection:function(){},evalScripts:"never",fallback:null,loading:null,renumerateIRIElements:!0,useRequestCache:!0,wrapper:"div"},exports.ReactSVG=ReactSVG;
//# sourceMappingURL=react-svg.cjs.production.js.map
